
{% extends 'base.html' %}
{% block content %}
<div class="content-container">
    <h2 class="content-header">Profil de {{ user.username|upper }}</h2>

    <h3 class="content-subheader">Suit :</h3>
    <ul class="list-group">
        {% for follow in following %}
        <li class="list-group-item d-flex justify-content-between align-items-center">
            <span class="follow-username">{{ follow.followed_user.username|upper }}</span>
            <form method="post" action="{% url 'unsubscribe' user_id=follow.followed_user.id %}" class="unsubscribe-form">
                {% csrf_token %}
                <button type="submit" class="btn btn-danger">Se désabonner</button>
            </form>
        </li>
        {% empty %}
        <li class="list-group-item">Cet utilisateur ne suit personne pour l'instant.</li>
        {% endfor %}
    </ul>

    <h3 class="content-subheader">Suivi par :</h3>
    <ul class="list-group">
        {% for follow in followers %}
        <li class="list-group-item">{{ follow.user.username|upper }}</li>
        {% empty %}
        <li class="list-group-item">Cet utilisateur n'a pas encore d'abonnés.</li>
        {% endfor %}
    </ul>
</div>
{% endblock %}

